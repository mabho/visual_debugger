Drupal.controllerElement={body:document.body,utilities:Drupal.vdUtilities,activated:!1,activeThemeElement:null,defaultThemeElement:null,controllerLayer:null,baseLayer:null,tabs:null,themeDebugNodes:null,constants:{initialControllerWidth:"400px",controllerDeactivatedGap:10,controllerDeactivatedInputMargin:"200px"},ids:{idControllerElement:"visual-debugger--controller-layer",idControllerElementSelected:"visual-debugger--controller-layer--selected",idControllerElementInfo:"visual-debugger--controller-layer--info",idControllerElementSuggestions:"visual-debugger--controller-layer--suggestions",idControllerElementList:"visual-debugger--controller-layer--list",idControllerElementTemplateFilePath:"visual-debugger--controller-layer--template-file-path",idControllerActiveElementInfo:"visual-debugger--controller--active-element--info",idControllerActivationCheckbox:"debuggerActivationCheckbox"},classNames:{classNameVisualDebugger:"visual-debugger",classNameBaseLayer:"visual-debugger--controller",classNameBaseLayerActivated:"visual-debugger--activated",classNameBaseLayerDeactivated:"visual-debugger--deactivated",classNameForm:"activation-form",classNameFormWrapper:"activation-form-wrapper",classNameContent:"content-auto-scroll",classNameElementInfoTextContent:"tag",classNameElementInfoEmpty:"tag--empty",classNameElementInfoObjectType:"tag--object-type",classNameElementInfoPropertyHook:"tag--prop-hook",classNameActiveElementLayer:"active-element",classNameActiveElementInfo:"active-element__info",classNameTabsNavigation:"tabbed-navigation",classNameTabsNavigationTabs:"tabbed-navigation__tabs",classNameTabsNavigationTab:"tabbed-navigation__tab",classNameTabsNavigationSeparator:"tabbed-navigation__separator",classNameSelectedElement:"selected-element",classNameSelectedElementContent:"selected-element__content",classNameSelectedElementInfoWrapper:"selected-element__info-wrapper",classNameSelectedElementInfo:"selected-element__info",classNameSelectedElementSuggestionsWrapper:"selected-element__suggestions-wrapper",classNameSelectedElementSuggestions:"selected-element__suggestions",classNameSelectedElementSuggestionsSuggestion:"suggestion",classNameSelectedElementTemplateFilePathWrapper:"selected-element__template-file-path-wrapper",classNameSelectedElementTemplateFilePath:"selected-element__template-file-path",classNameSelectedElementTemplateFilePathLabel:"label",classNameListElement:"list",classNameListElementContent:"list__content",classNameListElementItem:"list-item",classNameListElementItemActivation:"list-item__activation",classNameListElementItemActivationHover:"list-item__activation--hover",classNameListElementItemVisibility:"list-item__visibility",classNameAggregateElement:"aggregate",classNameTarget:"nav-target",classNameContentCopyData:"content-copy-data",classNameContentCopyDataLabel:"content-copy-data__label",classNameIconSelectedTrue:"icon-selected-true",classNameIconSelectedFalse:"icon-selected-false",classNameIconEye:"icon-eye",classNameIconControllerActivated:"icon-controller-activated",classNameIconControllerDeactivated:"icon-controller-deactivated",classNameIconEyeBlocked:"icon-eye-blocked",classNameIconCopyToClipboard:"icon-copy",classNameIconSlideResize:"icon-slide-resize",classNameClickDragButton:"click-drag-button",classNameCheckboxToggle:"checkbox-toggle",classNameActivated:"item-activated",classNameDeactivated:"item-deactivated",classNameObjectTypeTyped:e=>`object-type--${e}`},layerAttributes:{controllerActivatedAttributeName:"data-vd-controller-activated"},strings:{stringCopyToClipboard:Drupal.t("Copy to clipboard"),stringDeactivateDebugger:Drupal.t("Deactivate debugger"),stringSelectedElement:Drupal.t("Selected Element"),stringTabLabelSelected:Drupal.t("Selected"),stringTabLabelList:Drupal.t("List"),stringTabLabelAggregate:Drupal.t("Aggregate"),stringBasicInfo:Drupal.t("Object Type"),stringThemeSuggestions:Drupal.t("Theme Suggestions"),stringClickDragButton:Drupal.t("Click and drag to resize"),stringTemplateFilePath:Drupal.t("Template File Path"),stringFolderPath:Drupal.t("Folder path"),stringFilePath:Drupal.t("File path"),stringActiveElement:Drupal.t("Active Element"),stringNoActiveElement:Drupal.t("No active element."),stringNoSelectedElement:Drupal.t("No selected element.")},system:{localStorageDebuggerActivatedKey:"debuggerActivated",localStorageControllerWidthKey:"controllerWidth"},getControllerLayer(){return this.controllerLayer},setControllerLayer(e){this.controllerLayer=e},observeInstanceLayerChanges(){const{themeDebugNodes:e}=this,{layerTargetIdAttributeName:t,instanceLayerActivatedAttributeName:a}=this.utilities.layerAttributes,s={attributes:!0,attributeFilter:[a]},l=new MutationObserver((function(e){e.forEach((e=>{if(!("true"===e.target.getAttribute(a)))return;e.target.getAttribute(t)}))}));e.forEach((e=>{const t=e.instanceLayer;l.observe(t,s)}))},init(e,t){this.baseLayer=e,this.themeDebugNodes=t;const{body:a}=document;new MutationObserver((e=>{if(null==this.getControllerLayer())return;const t=e[0].target.style.paddingTop||0;this.controllerLayer.style.top=t})).observe(a,{attributes:!0,attributeFilter:["style"]})},toggleDebuggerActivated(e=!0){const{classNameBaseLayerActivated:t,classNameBaseLayerDeactivated:a}=this.classNames,{controllerActivatedAttributeName:s}=this.layerAttributes;this.body.classList.toggle(t,e),this.body.classList.toggle(a,!e),localStorage.setItem(this.system.localStorageDebuggerActivatedKey,e),null!==this.controllerLayer&&(this.controllerLayer.setAttribute(s,e),this.checkControllerActivation())},generateContentCopyData(e,t,a){const{body:s}=this,l=this,{stringCopyToClipboard:n}=this.strings,{classNameContentCopyData:i,classNameIconCopyToClipboard:c}=this.classNames,r=document.createElement("div"),o=document.createElement("div"),m=document.createElement("input"),d=document.createElement("button");return r.classList.add(i),o.classList.add(t),o.textContent=e,m.value=a,m.readOnly=!0,d.classList.add(c),d.setAttribute("aria-label",n),d.addEventListener("click",(function(){l.clipboardCopy(m)})),r.append(o,m,d),r},clipboardCopy(e){const t=e.textContent;navigator.clipboard?navigator.clipboard.writeText(t):(e.select(),document.execCommand("copy"),e.focus())},generateControllerLayer(){const{classNameVisualDebugger:e,classNameBaseLayer:t,classNameForm:a,classNameFormWrapper:s,classNameCheckboxToggle:l,classNameActivated:n,classNameIconEye:i,classNameIconControllerActivated:c,classNameDeactivated:r,classNameIconEyeBlocked:o,classNameIconControllerDeactivated:m,classNameContent:d}=this.classNames,{idControllerActivationCheckbox:g}=this.ids,{controllerActivatedAttributeName:u}=this.layerAttributes,{stringDeactivateDebugger:h}=this.strings,p=this,E=document.createElement("div");E.classList.add(e,t);const v=document.createElement("div");v.classList.add(d);const b=document.createElement("input");b.type="checkbox",b.id=g,b.classList.add(l);const y="true"===(localStorage.getItem(p.system.localStorageDebuggerActivatedKey)||"true");b.checked=y,E.setAttribute(u,y),p.toggleDebuggerActivated(y),b.addEventListener("change",(function(){p.toggleDebuggerActivated(this.checked)}));const L=document.createElement("span");L.classList.add(i,n,c);const N=document.createElement("span");N.classList.add(o,r,m);const C=document.createElement("label");C.setAttribute("for",b.id),C.textContent=h;const S=document.createElement("div");S.classList.add(s),S.append(b,L,N,C);const T=document.createElement("form");T.classList.add(a),T.appendChild(S);const A=this.generateActiveElementLayer(),f=this.generateTabbedNavigation(),I=this.generateSelectedElementLayer(),D=this.generateListElementLayer();return v.append(A,f,I,D),E.append(T,v),this.setControllerLayer(E),E},calculateInitialControllerWidth(){const{initialControllerWidth:e}=this.constants,{localStorageControllerWidthKey:t}=this.system,{controllerLayer:a}=this,s=localStorage.getItem(t)||e;let l=s;const n=window.innerWidth,i=window.getComputedStyle(a).getPropertyValue("max-width");if(i){let e=parseFloat(i);const t=parseFloat(s);l=i.endsWith("%")?Math.min(e/100*n,t):Math.min(n,e,t)}a.style.width=`${l}px`},generateActiveElementLayer(){const{classNameActiveElementLayer:e,classNameActiveElementInfo:t}=this.classNames,{idControllerActiveElementInfo:a}=this.ids,{stringActiveElement:s}=this.strings,l=document.createElement("div");l.classList.add(e);const n=document.createElement("h3");n.textContent=s;const i=document.createElement("div");return i.setAttribute("id",a),i.classList.add(t),l.append(n,i),l},switchToTab(e){const t=document.querySelector(`[data-target-tab='${e}']`),a=this.getControllerLayer().querySelector(`#${e}`);if(null===t||null===a)return;t.classList.add("active"),a.classList.add("active");const s=e=>{this.utilities.getSiblings(e).forEach((e=>{e.classList.remove("active")}))};s(t),s(a)},generateTabbedNavigation(){const{classNameTabsNavigation:e,classNameTabsNavigationTabs:t,classNameTabsNavigationTab:a,classNameTabsNavigationSeparator:s}=this.classNames,{stringTabLabelSelected:l,stringTabLabelList:n}=this.strings,{idControllerElementSelected:i,idControllerElementList:c}=this.ids,r=[{label:l,id:i},{label:n,id:c}],o=document.createElement("div");o.classList.add(e);const m=document.createElement("div");m.classList.add(t);const d=document.createElement("div");return d.classList.add(s),r.forEach((e=>{const t=document.createElement("button");t.setAttribute("data-target-tab",e.id),t.setAttribute("aria-label",e.label),t.classList.add(a),t.textContent=e.label,t.addEventListener("click",(()=>{this.switchToTab(e.id)})),m.appendChild(t)})),this.tabs=r,o.append(m,d),o},generateSelectedElementLayer(){const{classNameSelectedElement:e,classNameSelectedElementContent:t,classNameSelectedElementInfoWrapper:a,classNameSelectedElementInfo:s,classNameSelectedElementSuggestionsWrapper:l,classNameSelectedElementSuggestions:n,classNameSelectedElementTemplateFilePathWrapper:i,classNameSelectedElementTemplateFilePath:c,classNameTarget:r}=this.classNames,{idControllerElementSelected:o,idControllerElementInfo:m,idControllerElementSuggestions:d}=this.ids,{stringSelectedElement:g,stringBasicInfo:u,stringThemeSuggestions:h,stringTemplateFilePath:p}=this.strings,E=document.createElement("div"),v=document.createElement("div"),b=document.createElement("h3");E.classList.add(e,r),E.setAttribute("id",o),b.textContent=g,v.classList.add(t);const y=document.createElement("div"),L=document.createElement("div"),N=document.createElement("h4");y.classList.add(a),L.setAttribute("id",m),L.classList.add(s),N.textContent=u,y.append(N,L);const C=document.createElement("div"),S=document.createElement("div"),T=document.createElement("h4");C.classList.add(l),S.setAttribute("id",d),S.classList.add(n),T.textContent=h,C.append(T,S);const A=document.createElement("div"),f=document.createElement("div"),I=document.createElement("h4");return A.classList.add(i),f.classList.add(c),f.setAttribute("id",this.ids.idControllerElementTemplateFilePath),I.textContent=p,A.append(I,f),v.append(y,C,A),E.append(b,v),E},generateListElementLayer(){const{classNameListElement:e,classNameListElementContent:t,classNameTarget:a,classNameListElementItem:s,classNameListElementItemActivation:l,classNameListElementItemVisibility:n,classNameIconEye:i,classNameIconEyeBlocked:c}=this.classNames,{classNameCheckboxToggleWrapper:r,classNameInputWrapperDisabled:o}=this.utilities.classNames,{idControllerElementList:m}=this.ids,{stringTabLabelList:d}=this.strings,{layerTargetIdAttributeName:g,listItemActivatedAttributeName:u,layerAttributeIsVisible:h}=this.utilities.layerAttributes,p=this.themeDebugNodes,E=document.createElement("div");E.classList.add(e,a),E.setAttribute("id",m);const v=document.createElement("h3");v.textContent=d;const b=document.createElement("div");return b.classList.add(t),E.append(v,b),p.forEach((e=>{const t=document.createElement("div");t.classList.add(s);const a=this.utilities.generateOnOffSwitch(e.instanceActiveElement.propertyHook,!1,[{eventListener:"click",eventCallback:()=>{"true"===e.listItemLayer.getAttribute(h)&&e.instanceLayer.click()}},{eventListener:"change",eventCallback:e=>{e.target.parentNode.setAttribute(u,e.target.checked)}},{eventListener:"mouseenter",eventCallback:()=>{e.triggerMouseEnter()}},{eventListener:"mouseleave",eventCallback:()=>{e.triggerMouseLeave()}}],{[g]:e.instanceLayer.getAttribute(g),[u]:!1,[h]:!0},[l,this.classNames.classNameObjectTypeTyped(e.instanceActiveElement.objectType)]),m=this.utilities.generateOnOffSwitch("",!0,[{eventListener:"click",eventCallback:e=>{e.target.classList.contains(r)&&e.target.querySelector("input").click()}},{eventListener:"change",eventCallback:t=>{e.listItemLayer.classList.toggle(o),e.listItemLayer.setAttribute(h,t.target.checked);e.listItemLayer.querySelector("input");t.target.checked?e.showInstanceLayer():e.hideInstanceLayer()}}],{[h]:!0},[n],i,c);e.listItemLayer=a,t.append(a,m),b.appendChild(t)})),E},checkControllerActivation(){const{controllerDeactivatedGap:e}=this.constants;if(this.getControllerActivationStatus())return void(this.controllerLayer.style.right="0px");const t=-1*(parseInt(this.controllerLayer.style.width)-e);this.controllerLayer.style.right=`${t}px`},executePostActivation(){this.generateSliderButton(),this.calculateInitialControllerWidth(),this.checkControllerActivation(),this.updateActiveElement(),this.updateSelectedElement("selected"),this.setSelectedElementSuggestions(),this.setSelectedElementTemplateFilePath(),this.switchToTab(this.ids.idControllerElementSelected)},generateSliderButton(){const e=this,{classNameClickDragButton:t,classNameIconSlideResize:a}=this.classNames,{stringClickDragButton:s}=this.strings,{localStorageControllerWidthKey:l}=this.system,n=this.getControllerLayer();n.getBoundingClientRect();let i=!1;const c=document.createElement("button");c.classList.add(t),c.classList.add(a),c.setAttribute("aria-label",s),c.addEventListener("mousedown",(function(t){i=!!e.getControllerActivationStatus()})),document.addEventListener("mousemove",(function(t){i&&e.resizeControllerLayer(t.clientX)})),document.addEventListener("mouseup",(function(e){i=!1,localStorage.setItem(l,n.style.width)})),n.appendChild(c)},resizeControllerLayer(e=0){const{controllerLayer:t}=this,a=t.getBoundingClientRect();requestAnimationFrame((()=>{const s=a.width+a.left-e;t.style.width=`${s}px`}))},getControllerActivationStatus(){const{controllerActivatedAttributeName:e}=this.layerAttributes;return"true"===this.getControllerLayer().getAttribute(e)},setActivated(){this.activated=!0},getActiveElementInfoLayer(){return this.getControllerLayer().querySelector(`#${this.ids.idControllerActiveElementInfo}`)},getSelectedElementInfoLayer(){return this.getControllerLayer().querySelector(`#${this.ids.idControllerElementInfo}`)},getSelectedElementSuggestionsLayer(){return this.getControllerLayer().querySelector(`#${this.ids.idControllerElementSuggestions}`)},getSelectedElementTemplateFilePathLayer(){return this.getControllerLayer().querySelector(`#${this.ids.idControllerElementTemplateFilePath}`)},getSelectedThemeElement(){return this.activeThemeElement||this.defaultThemeElement||null},setElementInfo(e,t,a="active"){t.innerHTML="";const{classNameElementInfoTextContent:s,classNameElementInfoObjectType:l,classNameElementInfoPropertyHook:n}=this.classNames;if(null===e){const e=this.generateEmptyTag(a);return void t.append(e)}let i="";if(e.hasOwnProperty("objectType")&&null!==e.objectType){const a=document.createElement("div");a.classList.add(s,l,`${l}--${e.objectType}`),i=e.objectType,a.textContent=i,t.append(a)}if(e.hasOwnProperty("propertyHook")&&null!==e.propertyHook&&i!==e.propertyHook){const a=document.createElement("div");a.classList.add(s,n),a.textContent=e.propertyHook,t.append(a)}},setSelectedElementSuggestions(){const e=this.defaultThemeElement,t=this.getSelectedElementSuggestionsLayer(),{classNameIconSelectedTrue:a,classNameIconSelectedFalse:s}=this.classNames;if(t.innerHTML="",null!==e){if(e&&e.hasOwnProperty("suggestions")&&null!==e.suggestions){e.suggestions.forEach((e=>{const l=this.generateContentCopyData(null,e.activated?a:s,e.suggestion);t.appendChild(l)}))}}else{const e=this.generateEmptyTag("selected");t.append(e)}},setSelectedElementTemplateFilePath(){const e=this.defaultThemeElement,t=this.getSelectedElementTemplateFilePathLayer(),{classNameSelectedElementTemplateFilePath:a,classNameSelectedElementTemplateFilePathLabel:s}=this.classNames,{stringFilePath:l}=this.strings;if(t.innerHTML="",null!==e){if(e&&e.hasOwnProperty("filePath")&&null!==e.filePath){const n=e.filePath,i=this.generateContentCopyData(l,s,n,a);t.appendChild(i)}}else{const e=this.generateEmptyTag("selected");t.append(e)}},generateEmptyTag(e){const{classNameElementInfoTextContent:t,classNameElementInfoEmpty:a}=this.classNames,{stringNoActiveElement:s,stringNoSelectedElement:l}=this.strings,n=document.createElement("div");return n.classList.add(t,a),n.textContent="active"==e?s:l,n},handleSelectedListItemChange(e,t=!0){const{classNameCheckboxToggle:a}=this.classNames,s=this.themeDebugNodes.find((t=>t.instanceActiveElement===e)).listItemLayer.querySelector(`.${a}`);s.click(),t&&s.scrollIntoView({behavior:"smooth",block:"center"})},setHoverElement(e,t=!0){const{classNameListElementItemActivationHover:a}=this.classNames,s=this.themeDebugNodes.find((t=>t.instanceActiveElement===e));t?s.listItemLayer.classList.add(a):s.listItemLayer.classList.remove(a)},updateActiveElement(){const e=this.getActiveElementInfoLayer();this.setElementInfo(this.activeThemeElement,e)},setActiveThemeElement(e){this.activeThemeElement=e,this.updateActiveElement(),this.setHoverElement(e)},resetActiveThemeElement(e){this.activeThemeElement=null,this.updateActiveElement(),this.setHoverElement(e,!1)},updateSelectedElement(){const e=this.getSelectedElementInfoLayer();this.setElementInfo(this.defaultThemeElement,e,"selected"),this.setSelectedElementSuggestions(),this.setSelectedElementTemplateFilePath()},setDefaultThemeElement(e){this.defaultThemeElement=e,this.updateSelectedElement(),this.handleSelectedListItemChange(e)},resetDefaultThemeElement(e){this.defaultThemeElement=null,this.updateSelectedElement(),this.handleSelectedListItemChange(e,!1)}};