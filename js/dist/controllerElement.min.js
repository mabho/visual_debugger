Drupal.controllerElement={body:document.body,utilities:Drupal.vdUtilities,activated:!1,activeThemeElement:null,defaultThemeElement:null,controllerLayer:null,baseLayer:null,tabs:null,themeDebugNodes:null,themeDebugNodesWithCache:null,constants:{initialControllerWidth:"400px",controllerDeactivatedGap:10,controllerDeactivatedInputMargin:"200px"},ids:{idControllerElement:"visual-debugger--controller-layer",idControllerElementSelected:"visual-debugger--controller-layer--selected",idControllerButtonSelected:"visual-debugger--controller-layer--button--selected",idControllerElementInfo:"visual-debugger--controller-layer--info",idControllerElementList:"visual-debugger--controller-layer--list",idControllerButtonList:"visual-debugger--controller-layer--button--list",idControllerActiveElementInfo:"visual-debugger--controller--active-element--info",idControllerActivationCheckbox:"debuggerActivationCheckbox"},classNames:{classNameVisualDebugger:"visual-debugger",classNameBaseLayer:"visual-debugger--controller",classNameBaseLayerActivated:"visual-debugger--activated",classNameBaseLayerDeactivated:"visual-debugger--deactivated",classNameForm:"activation-form",classNameFormWrapper:"activation-form-wrapper",classNameContent:"content-auto-scroll",classNameElementInfoTextContent:"tag",classNameElementInfoEmpty:"tag--empty",classNameElementInfoObjectType:"tag--object-type",classNameElementInfoPropertyHook:"tag--prop-hook",classNameActiveElementLayer:"active-element",classNameActiveElementInfo:"active-element__info",classNameTabsNavigation:"tabbed-navigation",classNameTabsNavigationTabs:"tabbed-navigation__tabs",classNameTabsNavigationTab:"tabbed-navigation__tab",classNameTabsNavigationTabSelected:"tabbed-navigation__tab--selected",classNameTabsNavigationSeparator:"tabbed-navigation__separator",classNameSelectedElement:"selected-element",classNameSelectedElementContent:"selected-element__content",classNameSelectedElementContentItem:"content-item",classNameSelectedElementContentItemCache:"content-item--cache",classNameListElement:"list",classNameListElementContent:"list__content",classNameListElementItem:"list-item",classNameListElementItemActivation:"list-item__activation",classNameListElementItemActivationHover:"list-item__activation--hover",classNameListElementItemVisibility:"list-item__visibility",classNameAggregateElement:"aggregate",classNameTarget:"nav-target",classNameContentCopyData:"content-copy-data",classNameContentCopyDataLabel:"content-copy-data__label",classNameIconSelectedTrue:"icon-selected-true",classNameIconSelectedFalse:"icon-selected-false",classNameIconEye:"icon-eye",classNameIconControllerActivated:"icon-controller-activated",classNameIconControllerDeactivated:"icon-controller-deactivated",classNameIconEyeBlocked:"icon-eye-blocked",classNameIconCopyToClipboard:"icon-copy",classNameIconSlideResize:"icon-slide-resize",classNameIconNavigateNext:"icon-navigate-next",classNameClickDragButton:"click-drag-button",classNameCheckboxToggle:"checkbox-toggle",classNameActivated:"item-activated",classNameDeactivated:"item-deactivated",classNameObjectTypeTyped:e=>`object-type--${e}`},layerAttributes:{controllerActivatedAttributeName:"data-vd-controller-activated"},strings:{stringCopyToClipboard:Drupal.t("Copy to clipboard"),stringDeactivateDebugger:Drupal.t("Deactivate debugger"),stringSelectedElement:Drupal.t("Selected Element"),stringTabLabelSelected:Drupal.t("Selected"),stringTabLabelList:Drupal.t("List"),stringTabLabelAggregate:Drupal.t("Aggregate"),stringBasicInfo:Drupal.t("Object Type"),stringThemeSuggestions:Drupal.t("Theme Suggestions"),stringClickDragButton:Drupal.t("Click and drag to resize"),stringTemplateFilePath:Drupal.t("Template File Path"),stringFolderPath:Drupal.t("Folder path"),stringFilePath:Drupal.t("File path"),stringActiveElement:Drupal.t("Active Element"),stringNoActiveElement:Drupal.t("No active element."),stringNoSelectedElement:Drupal.t("No selected element."),stringNotAvailable:Drupal.t("Not available.")},system:{localStorageDebuggerActivatedKey:"debuggerActivated",localStorageControllerWidthKey:"controllerWidth"},getControllerLayer(){return this.controllerLayer},setControllerLayer(e){this.controllerLayer=e},observeInstanceLayerChanges(){const{themeDebugNodes:e}=this,{layerTargetIdAttributeName:t,instanceLayerActivatedAttributeName:a}=this.utilities.layerAttributes,s={attributes:!0,attributeFilter:[a]},l=new MutationObserver((function(e){e.forEach((e=>{if(!("true"===e.target.getAttribute(a)))return;e.target.getAttribute(t)}))}));e.forEach((e=>{const t=e.instanceLayer;l.observe(t,s)}))},init(e,t){this.baseLayer=e,this.themeDebugNodes=t;const{body:a}=document;new MutationObserver((e=>{if(null==this.getControllerLayer())return;const t=e[0].target.style.paddingTop||0;this.controllerLayer.style.top=t})).observe(a,{attributes:!0,attributeFilter:["style"]})},toggleDebuggerActivated(e=!0){const{classNameBaseLayerActivated:t,classNameBaseLayerDeactivated:a}=this.classNames,{controllerActivatedAttributeName:s}=this.layerAttributes;this.body.classList.toggle(t,e),this.body.classList.toggle(a,!e),localStorage.setItem(this.system.localStorageDebuggerActivatedKey,e),null!==this.controllerLayer&&(this.controllerLayer.setAttribute(s,e),this.checkControllerActivation())},generateContentCopyData(e,t,a){const{body:s}=this,l=this,{stringCopyToClipboard:n}=this.strings,{classNameContentCopyData:i,classNameIconCopyToClipboard:c}=this.classNames,o=document.createElement("div"),r=document.createElement("div"),d=document.createElement("input"),m=document.createElement("button");return o.classList.add(i),r.classList.add(t),r.textContent=e,d.value=a,d.readOnly=!0,m.classList.add(c),m.setAttribute("aria-label",n),m.addEventListener("click",(function(){l.clipboardCopy(d)})),o.append(r,d,m),o},clipboardCopy(e){const t=e.textContent;navigator.clipboard?navigator.clipboard.writeText(t):(e.select(),document.execCommand("copy"),e.focus())},generateControllerLayer(){const{classNameVisualDebugger:e,classNameBaseLayer:t,classNameForm:a,classNameFormWrapper:s,classNameCheckboxToggle:l,classNameActivated:n,classNameIconEye:i,classNameIconControllerActivated:c,classNameDeactivated:o,classNameIconEyeBlocked:r,classNameIconControllerDeactivated:d,classNameContent:m}=this.classNames,{idControllerActivationCheckbox:u}=this.ids,{controllerActivatedAttributeName:g}=this.layerAttributes,{stringDeactivateDebugger:h}=this.strings,p=this,b=document.createElement("div");b.classList.add(e,t);const v=document.createElement("div");v.classList.add(m);const y=document.createElement("input");y.type="checkbox",y.id=u,y.classList.add(l);const E="true"===(localStorage.getItem(p.system.localStorageDebuggerActivatedKey)||"true");y.checked=E,b.setAttribute(g,E),p.toggleDebuggerActivated(E),y.addEventListener("change",(function(){p.toggleDebuggerActivated(this.checked)}));const N=document.createElement("span");N.classList.add(i,n,c);const C=document.createElement("span");C.classList.add(r,o,d);const L=document.createElement("label");L.setAttribute("for",y.id),L.textContent=h;const A=document.createElement("div");A.classList.add(s),A.append(y,N,C,L);const T=document.createElement("form");T.classList.add(a),T.appendChild(A);const I=this.generateActiveElementLayer(),f=this.generateTabbedNavigation(),S=this.generateSelectedElement(),D=this.generateListElementLayer();return v.append(I,f,S,D),b.append(T,v),this.setControllerLayer(b),b},calculateInitialControllerWidth(){const{initialControllerWidth:e}=this.constants,{localStorageControllerWidthKey:t}=this.system,{controllerLayer:a}=this,s=localStorage.getItem(t)||e;let l=s;const n=window.innerWidth,i=window.getComputedStyle(a).getPropertyValue("max-width");if(i){let e=parseFloat(i);const t=parseFloat(s);l=i.endsWith("%")?Math.min(e/100*n,t):Math.min(n,e,t)}a.style.width=`${l}px`},generateActiveElementLayer(){const{classNameActiveElementLayer:e,classNameActiveElementInfo:t}=this.classNames,{idControllerActiveElementInfo:a}=this.ids,{stringActiveElement:s}=this.strings,l=document.createElement("div");l.classList.add(e);const n=document.createElement("h3");n.textContent=s;const i=document.createElement("div");return i.setAttribute("id",a),i.classList.add(t),l.append(n,i),l},switchToTab(e){const t=document.querySelector(`[data-target-tab='${e}']`),a=this.getControllerLayer().querySelector(`#${e}`);if(null===t||null===a)return;t.classList.add("active"),a.classList.add("active");const s=e=>{this.utilities.getSiblings(e).forEach((e=>{e.classList.remove("active")}))};s(t),s(a)},generateTabbedNavigation(){const{classNameTabsNavigation:e,classNameTabsNavigationTabs:t,classNameTabsNavigationTab:a,classNameTabsNavigationTabSelected:s,classNameTabsNavigationSeparator:l}=this.classNames,{stringTabLabelSelected:n,stringTabLabelList:i}=this.strings,{idControllerElementSelected:c,idControllerButtonSelected:o,idControllerElementList:r,idControllerButtonList:d}=this.ids,m=[{id:o,label:n,targetId:c,extraClasses:[s]},{id:d,label:i,targetId:r}],u=document.createElement("div");u.classList.add(e);const g=document.createElement("div");g.classList.add(t);const h=document.createElement("div");return h.classList.add(l),m.forEach((e=>{const t=document.createElement("button"),s=[a,...e.extraClasses||[]];t.setAttribute("data-target-tab",e.targetId),t.setAttribute("id",e.id),t.setAttribute("aria-label",e.label),t.classList.add(...s),t.textContent=e.label,t.addEventListener("click",(()=>{this.switchToTab(e.targetId)})),g.appendChild(t)})),this.tabs=m,u.append(g,h),u},generateSelectedElement(){const{idControllerElementSelected:e}=this.ids,{classNameSelectedElement:t,classNameSelectedElementContent:a,classNameSelectedElementContentItem:s,classNameSelectedElementContentItemCache:l,classNameTarget:n}=this.classNames,i=Drupal.vdUtilities.getNodesWithCache(this.themeDebugNodes);this.themeDebugNodesWithCache=i;const c=document.createElement("div");c.setAttribute("id",e),c.classList.add(t,n);let o=Drupal.themeElement.getDisplayElements();i.length||(o=o.filter((e=>"cache"!==e.type)));const r=document.createElement("div");return r.classList.add(a),o.forEach((e=>{const t=document.createElement("div"),a=document.createElement("h4"),n=document.createElement("div");t.classList.add(s,...e.wrapperClasses||[]),"cache"===e.type&&t.classList.add(l),a.textContent=e.label,e.id&&n.setAttribute("id",e.id),n.classList.add(...e.valueClasses||[]),t.append(a,n),r.appendChild(t)})),c.appendChild(r),c},generateListElementLayer(){const{classNameListElement:e,classNameListElementContent:t,classNameTarget:a,classNameListElementItem:s,classNameListElementItemActivation:l,classNameListElementItemVisibility:n,classNameIconEye:i,classNameIconEyeBlocked:c}=this.classNames,{classNameCheckboxToggleWrapper:o,classNameInputWrapperDisabled:r}=this.utilities.classNames,{idControllerElementList:d}=this.ids,{stringTabLabelList:m}=this.strings,{layerTargetIdAttributeName:u,listItemActivatedAttributeName:g,layerAttributeIsVisible:h}=this.utilities.layerAttributes,p=this.themeDebugNodes,b=document.createElement("div");b.classList.add(e,a),b.setAttribute("id",d);const v=document.createElement("h3");v.textContent=m;const y=document.createElement("div");return y.classList.add(t),b.append(v,y),p.forEach((e=>{const t=document.createElement("div");t.classList.add(s);const a=this.utilities.generateOnOffSwitch(e.instanceActiveElement.propertyHook,!1,[{eventListener:"click",eventCallback:()=>{"true"===e.listItemLayer.getAttribute(h)&&e.instanceLayer.click()}},{eventListener:"change",eventCallback:e=>{e.target.parentNode.setAttribute(g,e.target.checked)}},{eventListener:"mouseenter",eventCallback:()=>{e.triggerMouseEnter()}},{eventListener:"mouseleave",eventCallback:()=>{e.triggerMouseLeave()}}],{[u]:e.instanceLayer.getAttribute(u),[g]:!1,[h]:!0},[l,this.classNames.classNameObjectTypeTyped(e.instanceActiveElement.objectType)]),d=this.utilities.generateOnOffSwitch("",!0,[{eventListener:"click",eventCallback:e=>{e.target.classList.contains(o)&&e.target.querySelector("input").click()}},{eventListener:"change",eventCallback:t=>{e.listItemLayer.classList.toggle(r),e.listItemLayer.setAttribute(h,t.target.checked);e.listItemLayer.querySelector("input");t.target.checked?e.showInstanceLayer():e.hideInstanceLayer()}}],{[h]:!0},[n],i,c);e.listItemLayer=a,t.append(a,d),y.appendChild(t)})),b},checkControllerActivation(){const{controllerDeactivatedGap:e}=this.constants;if(this.getControllerActivationStatus())return void(this.controllerLayer.style.right="0px");const t=-1*(parseInt(this.controllerLayer.style.width)-e);this.controllerLayer.style.right=`${t}px`},executePostActivation(){this.generateSliderButton(),this.calculateInitialControllerWidth(),this.checkControllerActivation(),this.updateActiveElement(),this.updateSelectedElement("selected"),this.setSelectedElementValues(),this.switchToTab(this.ids.idControllerElementSelected)},generateSliderButton(){const e=this,{classNameClickDragButton:t,classNameIconSlideResize:a}=this.classNames,{stringClickDragButton:s}=this.strings,{localStorageControllerWidthKey:l}=this.system,n=this.getControllerLayer();n.getBoundingClientRect();let i=!1;const c=document.createElement("button");c.classList.add(t),c.classList.add(a),c.setAttribute("aria-label",s),c.addEventListener("mousedown",(function(t){i=!!e.getControllerActivationStatus()})),document.addEventListener("mousemove",(function(t){i&&e.resizeControllerLayer(t.clientX)})),document.addEventListener("mouseup",(function(e){i=!1,localStorage.setItem(l,n.style.width)})),n.appendChild(c)},resizeControllerLayer(e=0){const{controllerLayer:t}=this,a=t.getBoundingClientRect();requestAnimationFrame((()=>{const s=a.width+a.left-e;t.style.width=`${s}px`}))},getControllerActivationStatus(){const{controllerActivatedAttributeName:e}=this.layerAttributes;return"true"===this.getControllerLayer().getAttribute(e)},setActivated(){this.activated=!0},getActiveElementInfoLayer(){return this.getControllerLayer().querySelector(`#${this.ids.idControllerActiveElementInfo}`)},getSelectedThemeElement(){return this.activeThemeElement||this.defaultThemeElement||null},setElementInfo(e,t,a="active"){t.innerHTML="";const{classNameElementInfoTextContent:s,classNameElementInfoObjectType:l,classNameElementInfoPropertyHook:n}=this.classNames;if(null===e){const e=this.generateEmptyTag(a);return void t.append(e)}let i="";if(e.hasOwnProperty("objectType")&&null!==e.objectType){const a=document.createElement("div");a.classList.add(s,l,`${l}--${e.objectType}`),i=e.objectType,a.textContent=i,t.append(a)}if(e.hasOwnProperty("propertyHook")&&null!==e.propertyHook&&i!==e.propertyHook){const a=document.createElement("div");a.classList.add(s,n),a.textContent=e.propertyHook,t.append(a)}},setSelectedElementValues(){const{classNameContentCopyDataLabel:e}=this.classNames,{stringNoSelectedElement:t,stringNotAvailable:a}=this.strings,s=Drupal.themeElement.getDisplayElements(),l=this.defaultThemeElement;s.forEach((s=>{const n=document.getElementById(s.id);if(null!==n)if(n.innerHTML="",null!==l)if(l.hasOwnProperty(s.key)&&l[s.key]){if("info"===s.displayType)this.setElementInfo(this.defaultThemeElement,n,t);else if("singleInfo"===s.displayType)n.appendChild(this.generateSingleInfoOutput(l[s.key]));else if("singleCopy"===s.displayType){const t=this.generateContentCopyData(s.inlineLabel,e,l[s.key]);n.appendChild(t)}else if("multipleCopy"===s.displayType){const{classNameIconNavigateNext:e}=this.classNames;l[s.key].forEach((t=>{const a=this.generateContentCopyData(null,e,t);n.appendChild(a)}))}else if("multipleCopyWithChecked"===s.displayType){const{classNameIconSelectedTrue:e,classNameIconSelectedFalse:t}=this.classNames;l.suggestions.forEach((a=>{const s=this.generateContentCopyData(null,a.activated?e:t,a.suggestion);n.appendChild(s)}))}}else{const e=this.generateEmptyTag(a);n.appendChild(e)}else{const e=this.generateEmptyTag(t);n.appendChild(e)}}))},generateSingleInfoOutput:e=>document.createTextNode(e),generateSingleCopyOutput(e,t){const{classNameContentCopyData:a,classNameContentCopyDataLabel:s}=this.classNames,l=document.createElement("div");l.classList.add(a);const n=this.generateContentCopyData(e,s,t);return l.appendChild(n),l},generateEmptyTag(e){const{classNameElementInfoTextContent:t,classNameElementInfoEmpty:a}=this.classNames,{stringNoActiveElement:s,stringNoSelectedElement:l}=this.strings,n=document.createElement("div");return n.classList.add(t,a),n.textContent=e,n},handleSelectedListItemChange(e,t=!0){const{classNameCheckboxToggle:a}=this.classNames,s=this.themeDebugNodes.find((t=>t.instanceActiveElement===e)).listItemLayer.querySelector(`.${a}`);s.click(),t&&s.scrollIntoView({behavior:"smooth",block:"center"})},setTabCue(){const{idControllerButtonSelected:e}=this.ids,t=document.getElementById(e),a=this.defaultThemeElement,s=this.classNames.classNameObjectTypeTyped("");if(Array.from(t.classList).forEach((e=>{e.startsWith(s)&&t.classList.remove(e)})),null===a)return;const l=a.objectType,n=this.classNames.classNameObjectTypeTyped(l);t.classList.add(n)},setHoverElement(e,t=!0){const{classNameListElementItemActivationHover:a}=this.classNames,s=this.themeDebugNodes.find((t=>t.instanceActiveElement===e));t?s.listItemLayer.classList.add(a):s.listItemLayer.classList.remove(a)},updateActiveElement(){const{stringNoActiveElement:e}=this.strings,t=this.getActiveElementInfoLayer();this.setElementInfo(this.activeThemeElement,t,e)},setActiveThemeElement(e){this.activeThemeElement=e,this.updateActiveElement(),this.setHoverElement(e)},resetActiveThemeElement(e){this.activeThemeElement=null,this.updateActiveElement(),this.setHoverElement(e,!1)},updateSelectedElement(){const{stringNoSelectedElement:e}=this.strings;this.setSelectedElementValues(),this.setTabCue()},setDefaultThemeElement(e){this.defaultThemeElement=e,this.updateSelectedElement(),this.handleSelectedListItemChange(e)},resetDefaultThemeElement(e){this.defaultThemeElement=null,this.updateSelectedElement(),this.handleSelectedListItemChange(e,!1)}};